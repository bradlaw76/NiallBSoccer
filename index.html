<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Profile Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .tab-item {
            cursor: pointer;
        }
        .tab-item.active {
            background-color: rgba(255, 255, 255, 0.2);
            border-bottom: 2px solid white;
        }
    </style>
    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tab-item");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        function calculateAge(birthDate) {
            const today = new Date();
            const birthDateObj = new Date(birthDate);
            let age = today.getFullYear() - birthDateObj.getFullYear();
            const m = today.getMonth() - birthDateObj.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDateObj.getDate())) {
                age--;
            }
            return age;
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4 md:p-6 lg:p-8">
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 md:p-6 lg:p-8">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <h1 class="text-xl md:text-2xl lg:text-3xl font-semibold">Niall B. Law</h1>
                    <div class="flex items-center gap-4 mt-2 md:mt-0">
                        <span class="text-sm md:text-base">Follow Niall B. Law:</span>
                        <a href="#" class="text-white hover:text-gray-200 transition-colors">X</a>
                        <a href="#" class="text-white hover:text-gray-200 transition-colors">Instagram</a>
                    </div>
                    <div class="w-40 h-40 md:w-56 md:h-56 rounded-full flex items-center justify-center ml-0 md:ml-4 lg:ml-8 mt-4 md:mt-0 bg-gradient-to-r from-blue-500 to-indigo-600">
                        <span class="text-gray-500 text-sm text-white">Player Image</span>
                    </div>
                </div>
                <div class="mt-4 md:mt-6 lg:mt-8">
                    <div class="flex space-x-4">
                        <div class="tab-item active px-4 py-2 rounded-t-lg text-white hover:bg-rgba(255,255,255,0.2) transition-colors" onclick="openTab(event, 'overview')">Overview</div>
                        <div class="tab-item px-4 py-2 rounded-t-lg text-white hover:bg-rgba(255,255,255,0.2) transition-colors" onclick="openTab(event, 'stats')">Stats</div>
                    </div>
                </div>
            </div>

            <div id="overview" class="tabcontent p-4 md:p-6 lg:p-8 ">
                <h2 class="text-lg md:text-xl font-semibold text-gray-800 mb-2">Personal Details</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="flex items-center gap-4 mb-2">
                        <span class="text-gray-600 font-medium">Full Name:</span>
                        <span class="text-gray-700">Niall B. Law</span>
                    </div>
                    <div class="flex items-center gap-4 mb-2">
                        <span class="text-gray-600 font-medium">Height:</span>
                        <span class="text-gray-700">5'</span>
                    </div>
                    <div class="flex items-center gap-4 mb-2">
                        <span class="text-gray-600 font-medium">Born:</span>
                        <span class="text-gray-700"><span id="birthdate">March 17, 2015</span> (<span id="age"></span>)</span>
                    </div>
                    <div class="flex items-center gap-4 mb-2">
                         <span class="text-gray-600 font-medium">Weight:</span>
                        <span class="text-gray-700">70 lbs</span>
                    </div>
                    <div class="flex items-center gap-4 mb-2">
                        <span class="text-gray-600 font-medium">Place of Birth:</span>
                        <span class="text-gray-700">Leesburg, VA, United States</span>
                    </div>
                    <div class="flex items-center gap-4 mb-2">
                        <span class="text-gray-600 font-medium">Position:</span>
                        <span class="text-gray-700">Forward</span>
                    </div>
                    <div class="flex items-center gap-4 mb-2">
                        <span class="text-gray-600 font-medium">Nationality:</span>
                        <div class="flex items-center gap-2">
                            <img src="https://flagcdn.com/w40/us.png" alt="American Flag" class="w-5 h-5 rounded">
                            <span class="text-gray-700">American</span>
                        </div>
                    </div>
                </div>
                <div class="mt-6">
                    <h2 class="text-lg md:text-xl font-semibold text-gray-800 mb-2">Youth Clubs</h2>
                    <ul class="list-disc list-inside space-y-1">
                        <li class="text-gray-700">I9 Sports (2020-2022)</li>
                        <li class="text-gray-700">VA Revolution (2022-2024)</li>
                        <li class="text-gray-700">Loudoun Soccer (2022-2025)</li>
                    </ul>
                </div>
            </div>

            <div id="overview" class="tabcontent p-4 md:p-6 lg:p-8 ">
                <h2 class="text-lg md:text-xl font-semibold text-gray-800 mb-4">Latest News</h2>
                <ul class="list-disc list-inside space-y-2">
                    <li>
                        <a href="#" class="text-blue-600 hover:underline">Niall B. Law scores game-winning goal</a>
                        <span class="text-gray-500 text-sm">- ESPN</span>
                    </li>
                    <li>
                        <a href="#" class="text-blue-600 hover:underline">Niall B. Law named Player of the Month</a>
                        <span class="text-gray-500 text-sm">- Sports Illustrated</span>
                    </li>
                    <li>
                        <a href="#" class="text-blue-600 hover:underline">Niall B. Law injury update</a>
                        <span class="text-gray-500 text-sm">- Team Official Website</span>
                    </li>
                </ul>
            </div>

            <div id="overview" class="tabcontent p-4 md:p-6 lg:p-8">
                <h2 class="text-lg md:text-xl font-semibold text-gray-800 mb-4">Upcoming Games</h2>
                <ul class="list-disc list-inside space-y-2">
                    <li>
                        <span class="font-semibold">Niall B. Law vs. Team A</span>
                        <span class="text-gray-500 text-sm">- Date: March 10, 2024</span>
                    </li>
                    <li>
                        <span class="font-semibold">Niall B. Law vs. Team B</span>
                        <span class="text-gray-500 text-sm">- Date: March 17, 2024</span>
                    </li>
                    <li>
                         <span class="font-semibold">Niall B. Law vs. Team C</span>
                        <span class="text-gray-500 text-sm">- Date: March 24, 2024</span>
                    </li>
                </ul>
            </div>

            <div id="stats" class="tabcontent p-4 md:p-6 lg:p-8" style="display:none;">
                 <h2 class="text-lg md:text-xl font-semibold text-gray-800 mb-4">Performance Data</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="flex items-center gap-2">
                        <i class="fas fa-running text-blue-500"></i>
                        <span class="text-gray-600 font-medium">Appearances:</span>
                        <span class="text-gray-700">150</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-futbol text-green-500"></i>
                        <span class="text-gray-600 font-medium">Goals:</span>
                        <span class="text-gray-700">70</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-hand-holding-heart text-yellow-500"></i>
                        <span class="text-gray-600 font-medium">Assists:</span>
                        <span class="text-gray-700">40</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-users text-purple-500"></i>
                        <span class="text-gray-600 font-medium">Starting Eleven:</span>
                        <span class="text-gray-700">64%</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-clock text-indigo-500"></i>
                        <span class="text-gray-600 font-medium">Minutes Played:</span>
                        <span class="text-gray-700">58%</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-star text-red-500"></i>
                        <span class="text-gray-600 font-medium">Goal Participation:</span>
                        <span class="text-gray-700">33%</span>
                    </div>
                </div>

                <h2 class="text-lg md:text-xl font-semibold text-gray-800 mb-4 mt-8">Premier League Playing Career</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white rounded-lg shadow-md">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="px-4 py-2 text-left text-gray-600 font-semibold">Season</th>
                                <th class="px-4 py-2 text-left text-gray-600 font-semibold">Club</th>
                                <th class="px-4 py-2 text-left text-gray-600 font-semibold">Apps</th>
                                <th class="px-4 py-2 text-left text-gray-600 font-semibold">Goals</th>
                                <th class="px-4 py-2 text-left text-gray-600 font-semibold">Assists</th>
                            </tr>
                        </thead>
                        <tbody class="text-gray-700" id="stats-table-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to load and display the stats from the CSV file
        function loadAndDisplayStats() {
            fetch('player_stats.csv') // Path to your CSV file
                .then(response => response.text())
                .then(csvData => {
                    const lines = csvData.trim().split('\n');  // Split the CSV data into lines
                    const header = lines[0].split(',');    // Get the header row
                    const dataRows = lines.slice(1);       // Get the data rows

                    const tableBody = document.getElementById('stats-table-body');
                    tableBody.innerHTML = '';             // Clear any existing data in the table body

                    dataRows.forEach(row => {
                        const values = row.split(','); // Split each row into values
                        const tr = document.createElement('tr');  // Create a table row
                        values.forEach(value => {
                            const td = document.createElement('td'); // Create a table cell
                            td.className = 'px-4 py-2';         // For padding
                            td.textContent = value;             // Set the cell text
                            tr.appendChild(td);                  // Add the cell to the row
                        });
                        tableBody.appendChild(tr);              // Add the row to the table body
                    });
                })
                .catch(error => console.error('Error loading or parsing CSV:', error)); // Handle errors
        }

        // Call the function when the page loads
        window.onload = function() {
            loadAndDisplayStats(); // Load the stats data
            document.getElementById("overview").style.display = "block"; // Show the overview tab by default

            // Calculate and display age
            const birthDateElement = document.getElementById('birthdate');
            const ageElement = document.getElementById('age');
            if (birthDateElement && ageElement) {
                const birthDate = birthDateElement.textContent;
                const age = calculateAge(birthDate);
                ageElement.textContent = `Age: ${age}`;
            }
        };
    </script>
</body>
</html>
